{"ast":null,"code":"var Classes = Object.create(null);\n/**\n * Create a new Connection instance.\n * @param {object|string} config Configuration or connection string for new MySQL connection\n * @return {Connection} A new MySQL connection\n * @public\n */\n\nexports.createConnection = function createConnection(config) {\n  var Connection = loadClass('Connection');\n  var ConnectionConfig = loadClass('ConnectionConfig');\n  return new Connection({\n    config: new ConnectionConfig(config)\n  });\n};\n/**\n * Create a new Pool instance.\n * @param {object|string} config Configuration or connection string for new MySQL connections\n * @return {Pool} A new MySQL pool\n * @public\n */\n\n\nexports.createPool = function createPool(config) {\n  var Pool = loadClass('Pool');\n  var PoolConfig = loadClass('PoolConfig');\n  return new Pool({\n    config: new PoolConfig(config)\n  });\n};\n/**\n * Create a new PoolCluster instance.\n * @param {object} [config] Configuration for pool cluster\n * @return {PoolCluster} New MySQL pool cluster\n * @public\n */\n\n\nexports.createPoolCluster = function createPoolCluster(config) {\n  var PoolCluster = loadClass('PoolCluster');\n  return new PoolCluster(config);\n};\n/**\n * Create a new Query instance.\n * @param {string} sql The SQL for the query\n * @param {array} [values] Any values to insert into placeholders in sql\n * @param {function} [callback] The callback to use when query is complete\n * @return {Query} New query object\n * @public\n */\n\n\nexports.createQuery = function createQuery(sql, values, callback) {\n  var Connection = loadClass('Connection');\n  return Connection.createQuery(sql, values, callback);\n};\n/**\n * Escape a value for SQL.\n * @param {*} value The value to escape\n * @param {boolean} [stringifyObjects=false] Setting if objects should be stringified\n * @param {string} [timeZone=local] Setting for time zone to use for Date conversion\n * @return {string} Escaped string value\n * @public\n */\n\n\nexports.escape = function escape(value, stringifyObjects, timeZone) {\n  var SqlString = loadClass('SqlString');\n  return SqlString.escape(value, stringifyObjects, timeZone);\n};\n/**\n * Escape an identifier for SQL.\n * @param {*} value The value to escape\n * @param {boolean} [forbidQualified=false] Setting to treat '.' as part of identifier\n * @return {string} Escaped string value\n * @public\n */\n\n\nexports.escapeId = function escapeId(value, forbidQualified) {\n  var SqlString = loadClass('SqlString');\n  return SqlString.escapeId(value, forbidQualified);\n};\n/**\n * Format SQL and replacement values into a SQL string.\n * @param {string} sql The SQL for the query\n * @param {array} [values] Any values to insert into placeholders in sql\n * @param {boolean} [stringifyObjects=false] Setting if objects should be stringified\n * @param {string} [timeZone=local] Setting for time zone to use for Date conversion\n * @return {string} Formatted SQL string\n * @public\n */\n\n\nexports.format = function format(sql, values, stringifyObjects, timeZone) {\n  var SqlString = loadClass('SqlString');\n  return SqlString.format(sql, values, stringifyObjects, timeZone);\n};\n/**\n * Wrap raw SQL strings from escape overriding.\n * @param {string} sql The raw SQL\n * @return {object} Wrapped object\n * @public\n */\n\n\nexports.raw = function raw(sql) {\n  var SqlString = loadClass('SqlString');\n  return SqlString.raw(sql);\n};\n/**\n * The type constants.\n * @public\n */\n\n\nObject.defineProperty(exports, 'Types', {\n  get: loadClass.bind(null, 'Types')\n});\n/**\n * Load the given class.\n * @param {string} className Name of class to default\n * @return {function|object} Class constructor or exports\n * @private\n */\n\nfunction loadClass(className) {\n  var Class = Classes[className];\n\n  if (Class !== undefined) {\n    return Class;\n  } // This uses a switch for static require analysis\n\n\n  switch (className) {\n    case 'Connection':\n      Class = require('./lib/Connection');\n      break;\n\n    case 'ConnectionConfig':\n      Class = require('./lib/ConnectionConfig');\n      break;\n\n    case 'Pool':\n      Class = require('./lib/Pool');\n      break;\n\n    case 'PoolCluster':\n      Class = require('./lib/PoolCluster');\n      break;\n\n    case 'PoolConfig':\n      Class = require('./lib/PoolConfig');\n      break;\n\n    case 'SqlString':\n      Class = require('./lib/protocol/SqlString');\n      break;\n\n    case 'Types':\n      Class = require('./lib/protocol/constants/types');\n      break;\n\n    default:\n      throw new Error('Cannot find class \\'' + className + '\\'');\n  } // Store to prevent invoking require()\n\n\n  Classes[className] = Class;\n  return Class;\n}","map":null,"metadata":{},"sourceType":"script"}