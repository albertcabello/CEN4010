{"ast":null,"code":"import _regeneratorRuntime from \"/home/alexey/bookstore/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alexey/bookstore/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/alexey/bookstore/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alexey/bookstore/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alexey/bookstore/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alexey/bookstore/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alexey/bookstore/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/alexey/bookstore/src/Components/BookInfo.js\";\nimport React from \"react\";\nimport Titles from \"./Titles\";\nimport Description from \"./Description\";\nimport Tabs from \"./Tabs\";\n\nvar BookInfo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BookInfo, _React$Component);\n\n  function BookInfo() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BookInfo);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BookInfo)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      response: '',\n      post: '',\n      responseToPost: ''\n    };\n    _this.callApi =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, body;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetchfetch(API + _this.state.isbn, {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  post: _this.state.post\n                })\n              });\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              body = _context.sent;\n\n              if (!(response.status !== 200)) {\n                _context.next = 8;\n                break;\n              }\n\n              throw Error(body.message);\n\n            case 8:\n              return _context.abrupt(\"return\", body);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    return _this;\n  }\n\n  _createClass(BookInfo, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.callApi().then(function (res) {\n        return _this2.setState({\n          response: res.express\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(Titles, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }), React.createElement(Description, {\n        title: this.props.match.params.isbn,\n        description: \"Romeo and Juliet is about two young star-crossed lovers whose deaths ultimately reconcile their feuding families. It was among Shakespeare's most popular plays during his lifetime and along with Hamlet, is one of his most frequently performed plays. \",\n        price: \"9.00\",\n        cover: \"https://images.penguinrandomhouse.com/cover/9780143128571\",\n        author: \"William Shakespeare\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }), React.createElement(Tabs, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BookInfo;\n}(React.Component);\n\n;\nexport default BookInfo;","map":{"version":3,"sources":["/home/alexey/bookstore/src/Components/BookInfo.js"],"names":["React","Titles","Description","Tabs","BookInfo","state","response","post","responseToPost","callApi","fetchfetch","API","isbn","method","headers","body","JSON","stringify","json","status","Error","message","then","res","setState","express","catch","err","console","log","props","match","params","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,IAAP,MAAiB,QAAjB;;IAEMC,Q;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,IAAI,EAAE,EAFA;AAGNC,MAAAA,cAAc,EAAE;AAHV,K;UAURC,O;;;;6BAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACeC,UAAU,CAACC,GAAG,GAAG,MAAKN,KAAL,CAAWO,IAAlB,EAAwB;AACvDC,gBAAAA,MAAM,EAAE,MAD+C;AAEvDC,gBAAAA,OAAO,EAAE;AACP,kCAAgB;AADT,iBAF8C;AAKvDC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEV,kBAAAA,IAAI,EAAE,MAAKF,KAAL,CAAWE;AAAnB,iBAAf;AALiD,eAAxB,CADzB;;AAAA;AACFD,cAAAA,QADE;AAAA;AAAA,qBAQWA,QAAQ,CAACY,IAAT,EARX;;AAAA;AAQFH,cAAAA,IARE;;AAAA,oBASJT,QAAQ,CAACa,MAAT,KAAoB,GAThB;AAAA;AAAA;AAAA;;AAAA,oBAS2BC,KAAK,CAACL,IAAI,CAACM,OAAN,CAThC;;AAAA;AAAA,+CAUDN,IAVC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;wCALU;AAAA;;AAClB,WAAKN,OAAL,GACGa,IADH,CACQ,UAAAC,GAAG;AAAA,eAAI,MAAI,CAACC,QAAL,CAAc;AAAElB,UAAAA,QAAQ,EAAEiB,GAAG,CAACE;AAAhB,SAAd,CAAJ;AAAA,OADX,EAEGC,KAFH,CAES,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,OAFZ;AAGD;;;6BAaQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACL,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADK,EAEL,oBAAC,WAAD;AAAc,QAAA,KAAK,EAAI,KAAKG,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBpB,IAA/C;AAAqD,QAAA,WAAW,EAAG,4PAAnE;AAAgU,QAAA,KAAK,EAAG,MAAxU;AAA+U,QAAA,KAAK,EAAG,2DAAvV;AAAmZ,QAAA,MAAM,EAAG,qBAA5Z;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFK,EAGL,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHK,CADF;AAOD;;;;EA/BoBZ,KAAK,CAACiC,S;;AAgC5B;AAED,eAAe7B,QAAf","sourcesContent":["import React from \"react\";\n\nimport Titles from \"./Titles\";\nimport Description from \"./Description\";\nimport Tabs from \"./Tabs\";\n\nclass BookInfo extends React.Component {\n  state = {\n    response: '',\n    post: '',\n    responseToPost: '',\n  };\n  componentDidMount() {\n    this.callApi()\n      .then(res => this.setState({ response: res.express }))\n      .catch(err => console.log(err));\n  }\n  callApi = async () => {\n    const response = await fetchfetch(API + this.state.isbn, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ post: this.state.post }),\n    });\n    const body = await response.json();\n    if (response.status !== 200) throw Error(body.message);\n    return body;\n  };\n  render() {\n    return (\n      <div>\n\t<Titles />\n\t<Description  title = {this.props.match.params.isbn} description = \"Romeo and Juliet is about two young star-crossed lovers whose deaths ultimately reconcile their feuding families. It was among Shakespeare's most popular plays during his lifetime and along with Hamlet, is one of his most frequently performed plays. \" price = \"9.00\" cover = \"https://images.penguinrandomhouse.com/cover/9780143128571\" author = \"William Shakespeare\"/>\n\t<Tabs />\n      </div>\n    );\n  }\n};\n\nexport default BookInfo;\n"]},"metadata":{},"sourceType":"module"}